<?xml version="1.0" encoding="UTF-8"?>
<svg width="1200" height="800" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <!-- Gradients -->
    <linearGradient id="routerGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#fb923c;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#f97316;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="serverGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#a78bfa;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#8b5cf6;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="webGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#34d399;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#10b981;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="clientGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#60a5fa;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#3b82f6;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="dhcpGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#f472b6;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#ec4899;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="wanGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#94a3b8;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#64748b;stop-opacity:1" />
    </linearGradient>
    
    <!-- Filters for shadows -->
    <filter id="shadow" x="-50%" y="-50%" width="200%" height="200%">
      <feGaussianBlur in="SourceAlpha" stdDeviation="3"/>
      <feOffset dx="2" dy="2" result="offsetblur"/>
      <feComponentTransfer>
        <feFuncA type="linear" slope="0.3"/>
      </feComponentTransfer>
      <feMerge>
        <feMergeNode/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
    
    <filter id="glow">
      <feGaussianBlur stdDeviation="2" result="coloredBlur"/>
      <feMerge>
        <feMergeNode in="coloredBlur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
  </defs>
  
  <style>
    .zone-label { font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, sans-serif; font-size: 18px; font-weight: 600; fill: #1e293b; }
    .node-label { font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, sans-serif; font-size: 13px; font-weight: 600; fill: white; }
    .ip-label { font-family: 'SF Mono', 'Monaco', monospace; font-size: 11px; fill: #475569; font-weight: 500; }
    .title { font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, sans-serif; font-size: 24px; font-weight: 700; fill: #0f172a; }
    .subtitle { font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, sans-serif; font-size: 14px; fill: #64748b; }
    .connection { stroke: #cbd5e1; stroke-width: 2.5; fill: none; stroke-linecap: round; }
    .connection-main { stroke: #94a3b8; stroke-width: 4; fill: none; stroke-linecap: round; }
    .legend-text { font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, sans-serif; font-size: 12px; fill: #475569; }
  </style>
  
  <!-- Background -->
  <rect width="1200" height="800" fill="#f8fafc"/>
  
  <!-- Title -->
  <text class="title" x="600" y="35" text-anchor="middle">Network Infrastructure Topology</text>
  <text class="subtitle" x="600" y="55" text-anchor="middle">Docker-based Enterprise Network Demo</text>
  
  <!-- WAN Zone -->
  <rect x="100" y="90" width="1000" height="150" rx="12" fill="#e2e8f0" stroke="#94a3b8" stroke-width="2" opacity="0.5"/>
  <text class="zone-label" x="130" y="120">WAN Network</text>
  <text class="ip-label" x="130" y="140">172.20.0.0/24</text>
  
  <!-- WAN Router -->
  <g filter="url(#shadow)">
    <rect x="550" y="140" width="100" height="70" rx="8" fill="url(#routerGrad)"/>
    <circle cx="600" cy="155" r="3" fill="white" opacity="0.8"/>
    <circle cx="590" cy="165" r="2" fill="white" opacity="0.6"/>
    <circle cx="610" cy="165" r="2" fill="white" opacity="0.6"/>
    <text class="node-label" x="600" y="182" text-anchor="middle">Router</text>
    <text class="node-label" x="600" y="195" text-anchor="middle" font-size="9">Alpine + iptables</text>
    <text class="node-label" x="600" y="206" text-anchor="middle" font-size="8" opacity="0.8">WAN IF</text>
  </g>
  <text class="ip-label" x="600" y="230" text-anchor="middle">172.20.0.254</text>
  
  <!-- WAN Host -->
  <g filter="url(#shadow)">
    <rect x="850" y="150" width="90" height="60" rx="6" fill="url(#wanGrad)"/>
    <rect x="860" y="160" width="70" height="35" rx="2" fill="white" opacity="0.3"/>
    <text class="node-label" x="895" y="182" text-anchor="middle">WAN Host</text>
    <text class="node-label" x="895" y="196" text-anchor="middle" font-size="9">Alpine Linux</text>
  </g>
  <text class="ip-label" x="895" y="230" text-anchor="middle">172.20.0.100</text>
  
  <!-- Connection: Router to WAN Host -->
  <line class="connection" x1="650" y1="175" x2="850" y2="175"/>
  
  <!-- Central Router -->
  <g filter="url(#shadow)">
    <rect x="530" y="330" width="140" height="100" rx="10" fill="url(#routerGrad)"/>
    <!-- Router icon details -->
    <rect x="545" y="345" width="110" height="15" rx="3" fill="white" opacity="0.3"/>
    <rect x="545" y="365" width="110" height="15" rx="3" fill="white" opacity="0.3"/>
    <rect x="545" y="385" width="110" height="15" rx="3" fill="white" opacity="0.3"/>
    <circle cx="560" cy="405" r="4" fill="#fef3c7"/>
    <circle cx="580" cy="405" r="4" fill="#fef3c7"/>
    <circle cx="600" cy="405" r="4" fill="#fef3c7"/>
    <text class="node-label" x="600" y="352" text-anchor="middle" font-size="14">ROUTER</text>
    <text class="node-label" x="600" y="368" text-anchor="middle" font-size="9">Alpine + iptables</text>
    <text class="node-label" x="600" y="383" text-anchor="middle" font-size="9">Inter-VLAN Routing</text>
    <text class="node-label" x="600" y="398" text-anchor="middle" font-size="9">NAT + Firewall</text>
  </g>
  
  <!-- Connection: WAN to Main Router -->
  <line class="connection-main" x1="600" y1="210" x2="600" y2="330"/>
  <polygon fill="#94a3b8" points="600,325 595,335 605,335"/>
  
  <!-- VLAN 10 Zone -->
  <rect x="80" y="500" width="480" height="240" rx="12" fill="#dbeafe" stroke="#3b82f6" stroke-width="2" opacity="0.4"/>
  <text class="zone-label" x="110" y="530" fill="#1e40af">VLAN 10</text>
  <text class="ip-label" x="110" y="550">10.10.10.0/24</text>
  
  <!-- VLAN 10: CoreDNS -->
  <g filter="url(#shadow)">
    <rect x="120" y="590" width="80" height="80" rx="8" fill="url(#serverGrad)"/>
    <circle cx="160" cy="615" r="15" fill="white" opacity="0.3"/>
    <text x="160" y="622" text-anchor="middle" font-size="18" fill="white" font-weight="bold">DNS</text>
    <text class="node-label" x="160" y="645" text-anchor="middle" font-size="11">CoreDNS</text>
  </g>
  <text class="ip-label" x="160" y="690" text-anchor="middle">10.10.10.53</text>
  
  <!-- VLAN 10: Nginx -->
  <g filter="url(#shadow)">
    <rect x="260" y="590" width="80" height="80" rx="8" fill="url(#webGrad)"/>
    <rect x="275" y="605" width="50" height="40" rx="3" fill="white" opacity="0.3"/>
    <circle cx="300" cy="620" r="8" fill="white" opacity="0.5"/>
    <text class="node-label" x="300" y="650" text-anchor="middle" font-size="11">Nginx</text>
    <text class="node-label" x="300" y="663" text-anchor="middle" font-size="9">HTTPS</text>
  </g>
  <text class="ip-label" x="300" y="690" text-anchor="middle">10.10.10.10</text>
  
  <!-- VLAN 10: Client -->
  <g filter="url(#shadow)">
    <rect x="420" y="590" width="80" height="80" rx="8" fill="url(#clientGrad)"/>
    <rect x="435" y="605" width="50" height="35" rx="2" fill="white" opacity="0.3"/>
    <rect x="440" y="610" width="40" height="3" rx="1" fill="white" opacity="0.6"/>
    <rect x="440" y="616" width="40" height="3" rx="1" fill="white" opacity="0.6"/>
    <rect x="440" y="622" width="40" height="3" rx="1" fill="white" opacity="0.6"/>
    <circle cx="460" cy="632" r="2" fill="white"/>
    <text class="node-label" x="460" y="652" text-anchor="middle" font-size="11">Client10</text>
    <text class="node-label" x="460" y="665" text-anchor="middle" font-size="9">Alpine + Tools</text>
  </g>
  <text class="ip-label" x="460" y="690" text-anchor="middle">10.10.10.100</text>
  
  <!-- VLAN 20 Zone -->
  <rect x="640" y="500" width="480" height="240" rx="12" fill="#fce7f3" stroke="#ec4899" stroke-width="2" opacity="0.4"/>
  <text class="zone-label" x="670" y="530" fill="#be185d">VLAN 20</text>
  <text class="ip-label" x="670" y="550">10.20.20.0/24</text>
  
  <!-- VLAN 20: CoreDNS -->
  <g filter="url(#shadow)">
    <rect x="680" y="590" width="80" height="80" rx="8" fill="url(#serverGrad)"/>
    <circle cx="720" cy="615" r="15" fill="white" opacity="0.3"/>
    <text x="720" y="622" text-anchor="middle" font-size="18" fill="white" font-weight="bold">DNS</text>
    <text class="node-label" x="720" y="645" text-anchor="middle" font-size="11">CoreDNS</text>
  </g>
  <text class="ip-label" x="720" y="690" text-anchor="middle">10.20.20.53</text>
  
  <!-- VLAN 20: DHCP -->
  <g filter="url(#shadow)">
    <rect x="820" y="590" width="80" height="80" rx="8" fill="url(#dhcpGrad)"/>
    <circle cx="860" cy="620" r="18" fill="white" opacity="0.3"/>
    <text x="860" y="627" text-anchor="middle" font-size="16" fill="white" font-weight="bold">D</text>
    <text class="node-label" x="860" y="650" text-anchor="middle" font-size="11">dnsmasq</text>
    <text class="node-label" x="860" y="663" text-anchor="middle" font-size="9">DHCP</text>
  </g>
  <text class="ip-label" x="860" y="690" text-anchor="middle">10.20.20.2</text>
  
  <!-- VLAN 20: Client -->
  <g filter="url(#shadow)">
    <rect x="980" y="590" width="80" height="80" rx="8" fill="url(#clientGrad)"/>
    <rect x="995" y="605" width="50" height="35" rx="2" fill="white" opacity="0.3"/>
    <rect x="1000" y="610" width="40" height="3" rx="1" fill="white" opacity="0.6"/>
    <rect x="1000" y="616" width="40" height="3" rx="1" fill="white" opacity="0.6"/>
    <rect x="1000" y="622" width="40" height="3" rx="1" fill="white" opacity="0.6"/>
    <circle cx="1020" cy="632" r="2" fill="white"/>
    <text class="node-label" x="1020" y="652" text-anchor="middle" font-size="11">Client20</text>
    <text class="node-label" x="1020" y="665" text-anchor="middle" font-size="9">Alpine + Tools</text>
  </g>
  <text class="ip-label" x="1020" y="690" text-anchor="middle">DHCP Assigned</text>
  
  <!-- Connections: Router to VLANs -->
  <line class="connection-main" x1="560" y1="400" x2="320" y2="500"/>
  <polygon fill="#94a3b8" points="320,500 315,490 325,493"/>
  <text class="ip-label" x="420" y="445" text-anchor="middle" fill="#1e40af" font-weight="600">10.10.10.254</text>
  
  <line class="connection-main" x1="640" y1="400" x2="880" y2="500"/>
  <polygon fill="#94a3b8" points="880,500 875,493 885,490"/>
  <text class="ip-label" x="780" y="445" text-anchor="middle" fill="#be185d" font-weight="600">10.20.20.254</text>
  
  <!-- Legend -->
  <g transform="translate(100, 270)">
    <text class="zone-label" x="0" y="0" font-size="14">Components:</text>
    
    <rect x="0" y="10" width="30" height="20" rx="3" fill="url(#routerGrad)" filter="url(#shadow)"/>
    <text class="legend-text" x="38" y="25">Router</text>
    
    <rect x="110" y="10" width="30" height="20" rx="3" fill="url(#serverGrad)" filter="url(#shadow)"/>
    <text class="legend-text" x="148" y="25">DNS Server</text>
    
    <rect x="240" y="10" width="30" height="20" rx="3" fill="url(#webGrad)" filter="url(#shadow)"/>
    <text class="legend-text" x="278" y="25">Web Server</text>
    
    <rect x="380" y="10" width="30" height="20" rx="3" fill="url(#clientGrad)" filter="url(#shadow)"/>
    <text class="legend-text" x="418" y="25">Client</text>
    
    <rect x="490" y="10" width="30" height="20" rx="3" fill="url(#dhcpGrad)" filter="url(#shadow)"/>
    <text class="legend-text" x="528" y="25">DHCP Server</text>
  </g>
</svg>
