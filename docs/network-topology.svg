<?xml version="1.0" encoding="UTF-8"?>
<svg width="1400" height="900" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <!-- Gradients -->
    <linearGradient id="routerGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#fb923c;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#f97316;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="serverGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#a78bfa;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#8b5cf6;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="webGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#34d399;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#10b981;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="clientGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#60a5fa;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#3b82f6;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="dhcpGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#f472b6;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#ec4899;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="wanGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#94a3b8;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#64748b;stop-opacity:1" />
    </linearGradient>
    
    <!-- Filters for shadows -->
    <filter id="shadow" x="-50%" y="-50%" width="200%" height="200%">
      <feGaussianBlur in="SourceAlpha" stdDeviation="3"/>
      <feOffset dx="2" dy="2" result="offsetblur"/>
      <feComponentTransfer>
        <feFuncA type="linear" slope="0.3"/>
      </feComponentTransfer>
      <feMerge>
        <feMergeNode/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
    
    <filter id="glow">
      <feGaussianBlur stdDeviation="2" result="coloredBlur"/>
      <feMerge>
        <feMergeNode in="coloredBlur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
  </defs>
  
  <style>
    .zone-label { font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, sans-serif; font-size: 18px; font-weight: 600; fill: #1e293b; }
    .node-label { font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, sans-serif; font-size: 13px; font-weight: 600; fill: white; }
    .ip-label { font-family: 'SF Mono', 'Monaco', monospace; font-size: 11px; fill: #475569; font-weight: 500; }
    .title { font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, sans-serif; font-size: 24px; font-weight: 700; fill: #0f172a; }
    .subtitle { font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, sans-serif; font-size: 14px; fill: #64748b; }
    .connection { stroke: #cbd5e1; stroke-width: 2.5; fill: none; stroke-linecap: round; }
    .connection-main { stroke: #94a3b8; stroke-width: 4; fill: none; stroke-linecap: round; }
    .legend-text { font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, sans-serif; font-size: 12px; fill: #475569; }
  </style>
  
  <!-- Background -->
  <rect width="1400" height="900" fill="#f8fafc"/>
  
  <!-- Title -->
  <text class="title" x="700" y="35" text-anchor="middle">Network Infrastructure Topology</text>
  <text class="subtitle" x="700" y="55" text-anchor="middle">Docker-based Enterprise Network Demo</text>
  
  <!-- WAN Zone -->
  <rect x="100" y="90" width="1200" height="180" rx="12" fill="#e2e8f0" stroke="#94a3b8" stroke-width="2" opacity="0.5"/>
  <text class="zone-label" x="130" y="120">WAN Network</text>
  <text class="ip-label" x="130" y="140">172.20.0.0/24</text>
  
  <!-- WAN Router -->
  <g filter="url(#shadow)">
    <rect x="570" y="150" width="130" height="85" rx="8" fill="url(#routerGrad)"/>
    <circle cx="635" cy="170" r="3" fill="white" opacity="0.8"/>
    <circle cx="625" cy="180" r="2" fill="white" opacity="0.6"/>
    <circle cx="645" cy="180" r="2" fill="white" opacity="0.6"/>
    <text class="node-label" x="635" y="198" text-anchor="middle">Router</text>
    <text class="node-label" x="635" y="212" text-anchor="middle" font-size="9">alpine:3.20</text>
    <text class="node-label" x="635" y="225" text-anchor="middle" font-size="9">iptables</text>
  </g>
  <text class="ip-label" x="635" y="255" text-anchor="middle">172.20.0.254</text>
  
  <!-- WAN Host -->
  <g filter="url(#shadow)">
    <rect x="1000" y="150" width="120" height="85" rx="6" fill="url(#wanGrad)"/>
    <rect x="1015" y="165" width="90" height="40" rx="2" fill="white" opacity="0.3"/>
    <text class="node-label" x="1060" y="195" text-anchor="middle">WAN Host</text>
    <text class="node-label" x="1060" y="210" text-anchor="middle" font-size="9">alpine:3.20</text>
    <text class="node-label" x="1060" y="223" text-anchor="middle" font-size="9">Python HTTP</text>
  </g>
  <text class="ip-label" x="1060" y="255" text-anchor="middle">172.20.0.100</text>
  
  <!-- Connection: Router to WAN Host -->
  <line class="connection" x1="700" y1="192" x2="1000" y2="192"/>
  
  <!-- Central Router -->
  <g filter="url(#shadow)">
    <rect x="580" y="350" width="170" height="120" rx="10" fill="url(#routerGrad)"/>
    <!-- Router icon details -->
    <rect x="600" y="370" width="130" height="15" rx="3" fill="white" opacity="0.3"/>
    <rect x="600" y="390" width="130" height="15" rx="3" fill="white" opacity="0.3"/>
    <rect x="600" y="410" width="130" height="15" rx="3" fill="white" opacity="0.3"/>
    <circle cx="620" cy="435" r="4" fill="#fef3c7"/>
    <circle cx="645" cy="435" r="4" fill="#fef3c7"/>
    <circle cx="670" cy="435" r="4" fill="#fef3c7"/>
    <text class="node-label" x="665" y="365" text-anchor="middle" font-size="15">ROUTER</text>
    <text class="node-label" x="665" y="383" text-anchor="middle" font-size="10">alpine:3.20</text>
    <text class="node-label" x="665" y="398" text-anchor="middle" font-size="10">iptables</text>
    <text class="node-label" x="665" y="413" text-anchor="middle" font-size="9">Inter-VLAN + NAT</text>
    <text class="node-label" x="665" y="426" text-anchor="middle" font-size="9">Firewall</text>
  </g>
  
  <!-- Connection: WAN to Main Router -->
  <line class="connection-main" x1="635" y1="235" x2="665" y2="350"/>
  <polygon fill="#94a3b8" points="665,350 660,340 670,343"/>
  
  <!-- VLAN 10 Zone -->
  <rect x="70" y="540" width="580" height="300" rx="12" fill="#dbeafe" stroke="#3b82f6" stroke-width="2" opacity="0.4"/>
  <text class="zone-label" x="100" y="575" fill="#1e40af">VLAN 10</text>
  <text class="ip-label" x="100" y="595">10.10.10.0/24</text>
  
  <!-- VLAN 10: CoreDNS -->
  <g filter="url(#shadow)">
    <rect x="110" y="640" width="110" height="110" rx="8" fill="url(#serverGrad)"/>
    <circle cx="165" cy="670" r="18" fill="white" opacity="0.3"/>
    <text x="165" y="679" text-anchor="middle" font-size="20" fill="white" font-weight="bold">DNS</text>
    <text class="node-label" x="165" y="705" text-anchor="middle" font-size="12">CoreDNS</text>
    <text class="node-label" x="165" y="722" text-anchor="middle" font-size="10">coredns:1.11.1</text>
  </g>
  <text class="ip-label" x="165" y="770" text-anchor="middle">10.10.10.53</text>
  
  <!-- VLAN 10: Nginx -->
  <g filter="url(#shadow)">
    <rect x="270" y="640" width="110" height="110" rx="8" fill="url(#webGrad)"/>
    <rect x="290" y="660" width="70" height="50" rx="3" fill="white" opacity="0.3"/>
    <circle cx="325" cy="678" r="10" fill="white" opacity="0.5"/>
    <text class="node-label" x="325" y="708" text-anchor="middle" font-size="12">Nginx</text>
    <text class="node-label" x="325" y="725" text-anchor="middle" font-size="9">nginx:1.27-alpine</text>
  </g>
  <text class="ip-label" x="325" y="770" text-anchor="middle">10.10.10.10</text>
  
  <!-- VLAN 10: Client -->
  <g filter="url(#shadow)">
    <rect x="430" y="640" width="110" height="110" rx="8" fill="url(#clientGrad)"/>
    <rect x="450" y="660" width="70" height="45" rx="2" fill="white" opacity="0.3"/>
    <rect x="458" y="668" width="54" height="4" rx="1" fill="white" opacity="0.6"/>
    <rect x="458" y="676" width="54" height="4" rx="1" fill="white" opacity="0.6"/>
    <rect x="458" y="684" width="54" height="4" rx="1" fill="white" opacity="0.6"/>
    <circle cx="485" cy="695" r="3" fill="white"/>
    <text class="node-label" x="485" y="715" text-anchor="middle" font-size="12">Client10</text>
    <text class="node-label" x="485" y="730" text-anchor="middle" font-size="10">alpine:3.20</text>
  </g>
  <text class="ip-label" x="485" y="770" text-anchor="middle">10.10.10.100</text>
  
  <!-- VLAN 20 Zone -->
  <rect x="740" y="540" width="580" height="300" rx="12" fill="#fce7f3" stroke="#ec4899" stroke-width="2" opacity="0.4"/>
  <text class="zone-label" x="770" y="575" fill="#be185d">VLAN 20</text>
  <text class="ip-label" x="770" y="595">10.20.20.0/24</text>
  
  <!-- VLAN 20: CoreDNS -->
  <g filter="url(#shadow)">
    <rect x="780" y="640" width="110" height="110" rx="8" fill="url(#serverGrad)"/>
    <circle cx="835" cy="670" r="18" fill="white" opacity="0.3"/>
    <text x="835" y="679" text-anchor="middle" font-size="20" fill="white" font-weight="bold">DNS</text>
    <text class="node-label" x="835" y="705" text-anchor="middle" font-size="12">CoreDNS</text>
    <text class="node-label" x="835" y="722" text-anchor="middle" font-size="10">coredns:1.11.1</text>
  </g>
  <text class="ip-label" x="835" y="770" text-anchor="middle">10.20.20.53</text>
  
  <!-- VLAN 20: DHCP -->
  <g filter="url(#shadow)">
    <rect x="940" y="640" width="110" height="110" rx="8" fill="url(#dhcpGrad)"/>
    <circle cx="995" cy="672" r="20" fill="white" opacity="0.3"/>
    <text x="995" y="681" text-anchor="middle" font-size="18" fill="white" font-weight="bold">D</text>
    <text class="node-label" x="995" y="705" text-anchor="middle" font-size="12">dnsmasq</text>
    <text class="node-label" x="995" y="722" text-anchor="middle" font-size="10">alpine:3.20</text>
  </g>
  <text class="ip-label" x="995" y="770" text-anchor="middle">10.20.20.2</text>
  
  <!-- VLAN 20: Client -->
  <g filter="url(#shadow)">
    <rect x="1100" y="640" width="110" height="110" rx="8" fill="url(#clientGrad)"/>
    <rect x="1120" y="660" width="70" height="45" rx="2" fill="white" opacity="0.3"/>
    <rect x="1128" y="668" width="54" height="4" rx="1" fill="white" opacity="0.6"/>
    <rect x="1128" y="676" width="54" height="4" rx="1" fill="white" opacity="0.6"/>
    <rect x="1128" y="684" width="54" height="4" rx="1" fill="white" opacity="0.6"/>
    <circle cx="1155" cy="695" r="3" fill="white"/>
    <text class="node-label" x="1155" y="715" text-anchor="middle" font-size="12">Client20</text>
    <text class="node-label" x="1155" y="730" text-anchor="middle" font-size="10">alpine:3.20</text>
  </g>
  <text class="ip-label" x="1155" y="770" text-anchor="middle">DHCP Assigned</text>
  
  <!-- Connections: Router to VLANs -->
  <line class="connection-main" x1="610" y1="470" x2="360" y2="540"/>
  <polygon fill="#94a3b8" points="360,540 355,530 365,533"/>
  <text class="ip-label" x="460" y="500" text-anchor="middle" fill="#1e40af" font-weight="600">10.10.10.254</text>
  
  <line class="connection-main" x1="720" y1="470" x2="1030" y2="540"/>
  <polygon fill="#94a3b8" points="1030,540 1025,533 1035,530"/>
  <text class="ip-label" x="900" y="500" text-anchor="middle" fill="#be185d" font-weight="600">10.20.20.254</text>
  
  <!-- Legend -->
  <g transform="translate(150, 290)">
    <text class="zone-label" x="0" y="0" font-size="14">Components:</text>
    
    <rect x="0" y="10" width="35" height="25" rx="3" fill="url(#routerGrad)" filter="url(#shadow)"/>
    <text class="legend-text" x="43" y="27">Router</text>
    
    <rect x="130" y="10" width="35" height="25" rx="3" fill="url(#serverGrad)" filter="url(#shadow)"/>
    <text class="legend-text" x="173" y="27">DNS Server</text>
    
    <rect x="280" y="10" width="35" height="25" rx="3" fill="url(#webGrad)" filter="url(#shadow)"/>
    <text class="legend-text" x="323" y="27">Web Server</text>
    
    <rect x="440" y="10" width="35" height="25" rx="3" fill="url(#clientGrad)" filter="url(#shadow)"/>
    <text class="legend-text" x="483" y="27">Client</text>
    
    <rect x="570" y="10" width="35" height="25" rx="3" fill="url(#dhcpGrad)" filter="url(#shadow)"/>
    <text class="legend-text" x="613" y="27">DHCP Server</text>
  </g>
</svg>
